<html xmlns:dst>
<head>
	<title>Detached Panel</title>
</head>

<script language="javascript" src="^CLIENTDIR^js/tba.js"></script>
<script language="javascript">
	
	window.onload=onBodyLoad;
	window.onunload=onBodyUnload;

	var _parentWindow=window.dialogArguments[0];
	var _panel=window.dialogArguments[1];
	
	function onBodyLoad()
	{
		for(var i=0;i<_parentWindow.document.styleSheets.length;i++)
		{
			var oItem=_parentWindow.document.styleSheets(i);
			var oStyleSheet=document.createStyleSheet();
			for(var j=0;j< oItem.rules.length;j++)
			{
				var oRule=oItem.rules(j);
				if(oRule.selectorText.toLowerCase()!="div.dstpanel") // don't apply the dstpanel behavior to the modal dialog
				{
					oStyleSheet.addRule(oRule.selectorText,oRule.style.cssText);
				}
			}
		}
		updateGrid(_panel);
		window.document.body.innerHTML=_panel.innerHTML;
		_panel.innerHTML="";
	}

	function onBodyUnload()
	{
		updateGrid(document);
		window.returnValue=document.body.innerHTML;
	}

	//updates all dstgrids in the object passed in
	function updateGrid(oElement)
	{
		var coll=oElement.all.tags("DSTGRID");
		if (coll!=null)
		{
			for (i=0;i< coll.length;i++)
			{
				coll[i].innerHTML=coll[i].XMLDocument.xml;
				
			}
		}
	}
</script>
	</head>
	<body style="margin:10px">
	</body>
</html>